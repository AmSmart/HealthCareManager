@using PrescriptionModel = HealthCareManager.Shared.Models.Prescription

<div class="mb-3">
    <MudTextField T="@string" InputType="InputType.Text" ReadOnly Label="Medication" @bind-Text="@Data.MedicationName" />
    <MudTextField T="@string" InputType="InputType.Text" ReadOnly Label="Dosage" @bind-Text="@Data.DosageDescription" />
    <MudDatePicker ReadOnly Label="Start Date" @bind-Date="@Data.StartDate" />
    <MudDatePicker ReadOnly Label="End Date" @bind-Date="@Data.EndDate" />
    <div class="mt-2 text-center">
        @if (Data.Collected)
        {
            <MudText Style="font-weight: bold">Patient has collected this prescription</MudText>       
        }
        else
        {
            <LoadingButton IsSubmitType="false" OnClick="@OnMarkPrescription">Mark as collected</LoadingButton>
        }
    </div>
</div>

@code{
    [Parameter]
    public PrescriptionModel Data { get; set; } = default!;

    [Parameter]
    public EventCallback<PrescriptionModel> DataChanged { get; set; }

    [Parameter]
    public EventCallback OnMarkPrescription { get; set; }

}